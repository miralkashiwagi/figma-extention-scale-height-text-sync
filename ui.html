<h3 style="margin:0 0 8px;">Scale Sync</h3>

<div class="row">
    <button id="run">Update (Selection)</button>
    <button id="all">Update (All)</button>
</div>

<div class="row">
    <input type="checkbox" id="auto" checked />
    <label for="auto">Auto Update（選択・リサイズ監視）</label>
</div>

<div class="hint">
    ・「Insert Scale Component」でscale-ruler/height-syncコンポーネントを作成<br/>
    ・手動作成したインスタンスも自動検出して同期対象に追加<br/>
    ・UIを開いている間は自動同期が有効
</div>

<script>
    const post = (type, value) => parent.postMessage({ pluginMessage: { type, value } }, '*');
    document.getElementById('run').onclick = () => post('RUN_ONCE');
    document.getElementById('all').onclick = () => post('RUN_ALL');
    const auto = document.getElementById('auto');
    auto.onchange = () => post('AUTO_SET', auto.checked);
</script>


<style>
    body { font: 12px/1.4 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 12px; }
    button { padding: 6px 10px; border: 1px solid #ccc; border-radius: 6px; cursor: pointer; }
    .row { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
    .hint { color: #666; margin-top: 10px; }
</style>